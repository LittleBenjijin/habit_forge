<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Habit Quest - Gamify Your Life</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Auth Screen -->
    <div class="auth-screen" id="authScreen">
        <div class="auth-container">
            <h1 class="auth-title">‚öîÔ∏è Habit Quest</h1>
            <p class="auth-subtitle">Level Up Your Life</p>

            <!-- Login Form -->
            <div class="auth-form" id="loginForm">
                <h2>Login</h2>
                <input type="text" id="loginUsername" placeholder="Username" maxlength="20">
                <input type="password" id="loginPassword" placeholder="Password">
                <button class="auth-btn" onclick="handleLogin()">Login</button>
                <p class="auth-switch">Don't have an account? <span onclick="showSignup()">Sign Up</span></p>
            </div>

            <!-- Signup Form -->
            <div class="auth-form hidden" id="signupForm">
                <h2>Sign Up</h2>
                <input type="text" id="signupUsername" placeholder="Username" maxlength="20">
                <input type="password" id="signupPassword" placeholder="Password">
                <input type="password" id="signupConfirmPassword" placeholder="Confirm Password">
                <button class="auth-btn" onclick="handleSignup()">Create Account</button>
                <p class="auth-switch">Already have an account? <span onclick="showLogin()">Login</span></p>
            </div>
        </div>
    </div>

    <div class="game-container" id="gameContainer" style="display: none;">
        <!-- Character Panel -->
        <aside class="character-panel">
            <div class="character-card">
                <h2>Your Hero</h2>
                <div class="character-name">
                    <input type="text" id="characterName" placeholder="Enter name..." maxlength="20">
                </div>
                <div class="character-avatar" id="characterAvatar">
                    <div class="avatar-display">üßô‚Äç‚ôÇÔ∏è</div>
                    <button class="customize-btn" id="customizeBtn">Customize</button>
                </div>

                <div class="character-stats">
                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>‚ù§Ô∏è HP</span>
                            <span id="hpValue">50/50</span>
                        </div>
                        <div class="progress-bar hp-bar">
                            <div class="progress-fill" id="hpFill" style="width: 100%"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>‚≠ê XP</span>
                            <span id="xpValue">0/100</span>
                        </div>
                        <div class="progress-bar xp-bar">
                            <div class="progress-fill" id="xpFill" style="width: 0%"></div>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>üèÜ Level</span>
                            <span id="levelValue">1</span>
                        </div>
                    </div>

                    <div class="stat-bar">
                        <div class="stat-label">
                            <span>üí∞ Gold</span>
                            <span id="goldValue">0</span>
                        </div>
                    </div>
                </div>

                <div class="equipment-section">
                    <h3>Equipment</h3>
                    <div class="equipment-slots">
                        <div class="equipment-item" data-slot="weapon">
                            <span class="slot-icon">‚öîÔ∏è</span>
                            <span class="slot-name" id="weaponSlot">None</span>
                        </div>
                        <div class="equipment-item" data-slot="armor">
                            <span class="slot-icon">üõ°Ô∏è</span>
                            <span class="slot-name" id="armorSlot">None</span>
                        </div>
                        <div class="equipment-item" data-slot="accessory">
                            <span class="slot-icon">üíç</span>
                            <span class="slot-name" id="accessorySlot">None</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="game-header">
                <h1>‚öîÔ∏è Habit Quest</h1>
                <div class="header-actions">
                    <span class="username-display" id="usernameDisplay"></span>
                    <button class="icon-btn" id="gamesBtn" title="Mini Games">üéÆ</button>
                    <button class="icon-btn" id="shopBtn" title="Shop">üõí</button>
                    <button class="icon-btn" id="achievementsBtn" title="Achievements">üèÜ</button>
                    <button class="icon-btn" id="settingsBtn" title="Settings">‚öôÔ∏è</button>
                    <button class="icon-btn logout-btn" id="logoutBtn" title="Logout">üö™</button>
                </div>
            </header>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab-btn active" data-tab="habits">‚ö° Habits</button>
                <button class="tab-btn" data-tab="dailies">üìÖ Dailies</button>
                <button class="tab-btn" data-tab="todos">‚úì To-Dos</button>
            </div>

            <!-- Habits Tab -->
            <div class="tab-content active" id="habits-tab">
                <div class="add-task-section">
                    <input type="text" id="habitInput" placeholder="Add a new habit..." maxlength="100">
                    <button class="add-btn" id="addHabitBtn">+ Add</button>
                </div>

                <div class="tasks-list" id="habitsList">
                    <p class="empty-state">No habits yet. Create good (+) and bad (-) habits!</p>
                </div>
            </div>

            <!-- Dailies Tab -->
            <div class="tab-content" id="dailies-tab">
                <div class="add-task-section">
                    <input type="text" id="dailyInput" placeholder="Add a daily task..." maxlength="100">
                    <button class="add-btn" id="addDailyBtn">+ Add</button>
                </div>

                <div class="tasks-list" id="dailiesList">
                    <p class="empty-state">No dailies yet. Add tasks you do every day!</p>
                </div>
            </div>

            <!-- To-Dos Tab -->
            <div class="tab-content" id="todos-tab">
                <div class="add-task-section">
                    <input type="text" id="todoInput" placeholder="Add a to-do..." maxlength="100">
                    <select id="todoDifficulty" class="difficulty-select">
                        <option value="trivial">Trivial</option>
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                    <button class="add-btn" id="addTodoBtn">+ Add</button>
                </div>

                <div class="tasks-list" id="todosList">
                    <p class="empty-state">No to-dos yet. Add one-time tasks!</p>
                </div>
            </div>
        </main>

        <!-- Shop Modal -->
        <div class="modal" id="shopModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üõí Shop</h2>
                    <button class="close-btn" onclick="closeModal('shopModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="shop-items" id="shopItems"></div>
                </div>
            </div>
        </div>

        <!-- Achievements Modal -->
        <div class="modal" id="achievementsModal">
            <div class="modal-content large-modal">
                <div class="modal-header">
                    <h2>üèÜ Achievements</h2>
                    <button class="close-btn" onclick="closeModal('achievementsModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="achievement-categories">
                        <button class="category-tab active" data-category="all">All</button>
                        <button class="category-tab" data-category="starter">Getting Started</button>
                        <button class="category-tab" data-category="levels">Levels</button>
                        <button class="category-tab" data-category="shopping">Shopping</button>
                        <button class="category-tab" data-category="streaks">Streaks</button>
                        <button class="category-tab" data-category="habits">Habits</button>
                        <button class="category-tab" data-category="todos">To-Dos</button>
                        <button class="category-tab" data-category="survival">Survival</button>
                        <button class="category-tab" data-category="special">Special</button>
                    </div>
                    <div class="achievements-list" id="achievementsList"></div>
                </div>
            </div>
        </div>

        <!-- Customization Modal -->
        <div class="modal" id="customizeModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚ú® Customize Character</h2>
                    <button class="close-btn" onclick="closeModal('customizeModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <h3>Choose Your Avatar</h3>
                    <div class="avatar-grid" id="avatarGrid"></div>
                </div>
            </div>
        </div>

        <!-- Settings Modal -->
        <div class="modal" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>‚öôÔ∏è Settings</h2>
                    <button class="close-btn" onclick="closeModal('settingsModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="settings-section">
                        <h3>Data Management</h3>
                        <button class="settings-btn export-btn" onclick="exportAllData()">
                            üíæ Export All Data
                        </button>
                        <button class="settings-btn import-btn" onclick="document.getElementById('importDataFile').click()">
                            üìÇ Import Data
                        </button>
                        <input type="file" id="importDataFile" accept=".json" style="display: none;">
                    </div>

                    <div class="settings-section danger-zone">
                        <h3>Danger Zone</h3>
                        <button class="settings-btn danger-btn" onclick="resetAllData()">
                            üóëÔ∏è Reset All Data
                        </button>
                        <p class="danger-warning">‚ö†Ô∏è This will delete all your progress permanently!</p>
                    </div>

                    <div class="settings-section">
                        <h3>Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Days Active:</span>
                                <span class="stat-value" id="statDaysActive">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Consecutive Days:</span>
                                <span class="stat-value" id="statConsecutiveDays">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Tasks Completed:</span>
                                <span class="stat-value" id="statTotalTasks">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Total Habit Clicks:</span>
                                <span class="stat-value" id="statHabitClicks">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Positive Clicks:</span>
                                <span class="stat-value" id="statPositiveClicks">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Deaths:</span>
                                <span class="stat-value" id="statDeaths">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Achievements Unlocked:</span>
                                <span class="stat-value" id="statAchievements">0/38</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Level Up Notification -->
        <div class="notification level-up-notification" id="levelUpNotification">
            <h2>üéâ LEVEL UP!</h2>
            <p>You reached level <span id="newLevel"></span>!</p>
        </div>

        <!-- Mini Games Modal -->
        <div class="modal" id="gamesModal">
            <div class="modal-content large-modal">
                <div class="modal-header">
                    <h2>üéÆ Mini Games</h2>
                    <button class="close-btn" onclick="closeModal('gamesModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="games-grid">
                        <div class="game-card" onclick="startClickerGame()">
                            <div class="game-icon">üñ±Ô∏è</div>
                            <h3>Coin Clicker</h3>
                            <p>Click fast to earn gold!</p>
                        </div>
                        <div class="game-card" onclick="startMemoryGame()">
                            <div class="game-icon">üß†</div>
                            <h3>Memory Match</h3>
                            <p>Match pairs to win gold!</p>
                        </div>
                        <div class="game-card" onclick="startQuickMath()">
                            <div class="game-icon">üî¢</div>
                            <h3>Quick Math</h3>
                            <p>Solve equations quickly!</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Clicker Game Modal -->
        <div class="modal" id="clickerGameModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üñ±Ô∏è Coin Clicker</h2>
                    <button class="close-btn" onclick="closeModal('clickerGameModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="game-stats">
                        <p>Time: <span id="clickerTime">10</span>s</p>
                        <p>Clicks: <span id="clickerClicks">0</span></p>
                    </div>
                    <button class="clicker-btn" id="clickerBtn" onclick="clickerClick()">üí∞</button>
                    <p id="clickerResult"></p>
                </div>
            </div>
        </div>

        <!-- Memory Game Modal -->
        <div class="modal" id="memoryGameModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üß† Memory Match</h2>
                    <button class="close-btn" onclick="closeModal('memoryGameModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="game-stats">
                        <p>Matches: <span id="memoryMatches">0</span>/8</p>
                        <p>Moves: <span id="memoryMoves">0</span></p>
                    </div>
                    <div class="memory-grid" id="memoryGrid"></div>
                    <p id="memoryResult"></p>
                </div>
            </div>
        </div>

        <!-- Quick Math Modal -->
        <div class="modal" id="quickMathModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>üî¢ Quick Math</h2>
                    <button class="close-btn" onclick="closeModal('quickMathModal')">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="game-stats">
                        <p>Time: <span id="mathTime">30</span>s</p>
                        <p>Score: <span id="mathScore">0</span></p>
                    </div>
                    <div class="math-question">
                        <h3 id="mathEquation"></h3>
                        <input type="number" id="mathAnswer" placeholder="Your answer">
                        <button class="auth-btn" onclick="submitMathAnswer()">Submit</button>
                    </div>
                    <p id="mathResult"></p>
                </div>
            </div>
        </div>

        <!-- Floating Coins Container -->
        <div class="floating-coins" id="floatingCoins"></div>

        <!-- AFK Screen -->
        <div class="afk-screen" id="afkScreen">
            <div class="afk-content">
                <div class="afk-character" id="afkCharacter">üßô‚Äç‚ôÇÔ∏è</div>
                <h1 class="afk-text" id="afkText">STILL GRINDING</h1>
                <p class="afk-subtext">Click anywhere to return</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
